{"ast":null,"code":"var grammar = module.exports = {\n  v: [{\n    name: 'version',\n    reg: /^(\\d*)$/\n  }],\n  o: [{\n    // o=- 20518 0 IN IP4 203.0.113.1\n    // NB: sessionId will be a String in most cases because it is huge\n    name: 'origin',\n    reg: /^(\\S*) (\\d*) (\\d*) (\\S*) IP(\\d) (\\S*)/,\n    names: ['username', 'sessionId', 'sessionVersion', 'netType', 'ipVer', 'address'],\n    format: '%s %s %d %s IP%d %s'\n  }],\n  // default parsing of these only (though some of these feel outdated)\n  s: [{\n    name: 'name'\n  }],\n  i: [{\n    name: 'description'\n  }],\n  u: [{\n    name: 'uri'\n  }],\n  e: [{\n    name: 'email'\n  }],\n  p: [{\n    name: 'phone'\n  }],\n  z: [{\n    name: 'timezones'\n  }],\n  // TODO: this one can actually be parsed properly...\n  r: [{\n    name: 'repeats'\n  }],\n  // TODO: this one can also be parsed properly\n  // k: [{}], // outdated thing ignored\n  t: [{\n    // t=0 0\n    name: 'timing',\n    reg: /^(\\d*) (\\d*)/,\n    names: ['start', 'stop'],\n    format: '%d %d'\n  }],\n  c: [{\n    // c=IN IP4 10.47.197.26\n    name: 'connection',\n    reg: /^IN IP(\\d) (\\S*)/,\n    names: ['version', 'ip'],\n    format: 'IN IP%d %s'\n  }],\n  b: [{\n    // b=AS:4000\n    push: 'bandwidth',\n    reg: /^(TIAS|AS|CT|RR|RS):(\\d*)/,\n    names: ['type', 'limit'],\n    format: '%s:%s'\n  }],\n  m: [{\n    // m=video 51744 RTP/AVP 126 97 98 34 31\n    // NB: special - pushes to session\n    // TODO: rtp/fmtp should be filtered by the payloads found here?\n    reg: /^(\\w*) (\\d*) ([\\w/]*)(?: (.*))?/,\n    names: ['type', 'port', 'protocol', 'payloads'],\n    format: '%s %d %s %s'\n  }],\n  a: [{\n    // a=rtpmap:110 opus/48000/2\n    push: 'rtp',\n    reg: /^rtpmap:(\\d*) ([\\w\\-.]*)(?:\\s*\\/(\\d*)(?:\\s*\\/(\\S*))?)?/,\n    names: ['payload', 'codec', 'rate', 'encoding'],\n    format: function (o) {\n      return o.encoding ? 'rtpmap:%d %s/%s/%s' : o.rate ? 'rtpmap:%d %s/%s' : 'rtpmap:%d %s';\n    }\n  }, {\n    // a=fmtp:108 profile-level-id=24;object=23;bitrate=64000\n    // a=fmtp:111 minptime=10; useinbandfec=1\n    push: 'fmtp',\n    reg: /^fmtp:(\\d*) ([\\S| ]*)/,\n    names: ['payload', 'config'],\n    format: 'fmtp:%d %s'\n  }, {\n    // a=control:streamid=0\n    name: 'control',\n    reg: /^control:(.*)/,\n    format: 'control:%s'\n  }, {\n    // a=rtcp:65179 IN IP4 193.84.77.194\n    name: 'rtcp',\n    reg: /^rtcp:(\\d*)(?: (\\S*) IP(\\d) (\\S*))?/,\n    names: ['port', 'netType', 'ipVer', 'address'],\n    format: function (o) {\n      return o.address != null ? 'rtcp:%d %s IP%d %s' : 'rtcp:%d';\n    }\n  }, {\n    // a=rtcp-fb:98 trr-int 100\n    push: 'rtcpFbTrrInt',\n    reg: /^rtcp-fb:(\\*|\\d*) trr-int (\\d*)/,\n    names: ['payload', 'value'],\n    format: 'rtcp-fb:%s trr-int %d'\n  }, {\n    // a=rtcp-fb:98 nack rpsi\n    push: 'rtcpFb',\n    reg: /^rtcp-fb:(\\*|\\d*) ([\\w-_]*)(?: ([\\w-_]*))?/,\n    names: ['payload', 'type', 'subtype'],\n    format: function (o) {\n      return o.subtype != null ? 'rtcp-fb:%s %s %s' : 'rtcp-fb:%s %s';\n    }\n  }, {\n    // a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n    // a=extmap:1/recvonly URI-gps-string\n    // a=extmap:3 urn:ietf:params:rtp-hdrext:encrypt urn:ietf:params:rtp-hdrext:smpte-tc 25@600/24\n    push: 'ext',\n    reg: /^extmap:(\\d+)(?:\\/(\\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\\S*)(?: (\\S*))?/,\n    names: ['value', 'direction', 'encrypt-uri', 'uri', 'config'],\n    format: function (o) {\n      return 'extmap:%d' + (o.direction ? '/%s' : '%v') + (o['encrypt-uri'] ? ' %s' : '%v') + ' %s' + (o.config ? ' %s' : '');\n    }\n  }, {\n    // a=extmap-allow-mixed\n    name: 'extmapAllowMixed',\n    reg: /^(extmap-allow-mixed)/\n  }, {\n    // a=crypto:1 AES_CM_128_HMAC_SHA1_80 inline:PS1uQCVeeCFCanVmcjkpPywjNWhcYD0mXXtxaVBR|2^20|1:32\n    push: 'crypto',\n    reg: /^crypto:(\\d*) ([\\w_]*) (\\S*)(?: (\\S*))?/,\n    names: ['id', 'suite', 'config', 'sessionConfig'],\n    format: function (o) {\n      return o.sessionConfig != null ? 'crypto:%d %s %s %s' : 'crypto:%d %s %s';\n    }\n  }, {\n    // a=setup:actpass\n    name: 'setup',\n    reg: /^setup:(\\w*)/,\n    format: 'setup:%s'\n  }, {\n    // a=connection:new\n    name: 'connectionType',\n    reg: /^connection:(new|existing)/,\n    format: 'connection:%s'\n  }, {\n    // a=mid:1\n    name: 'mid',\n    reg: /^mid:([^\\s]*)/,\n    format: 'mid:%s'\n  }, {\n    // a=msid:0c8b064d-d807-43b4-b434-f92a889d8587 98178685-d409-46e0-8e16-7ef0db0db64a\n    name: 'msid',\n    reg: /^msid:(.*)/,\n    format: 'msid:%s'\n  }, {\n    // a=ptime:20\n    name: 'ptime',\n    reg: /^ptime:(\\d*(?:\\.\\d*)*)/,\n    format: 'ptime:%d'\n  }, {\n    // a=maxptime:60\n    name: 'maxptime',\n    reg: /^maxptime:(\\d*(?:\\.\\d*)*)/,\n    format: 'maxptime:%d'\n  }, {\n    // a=sendrecv\n    name: 'direction',\n    reg: /^(sendrecv|recvonly|sendonly|inactive)/\n  }, {\n    // a=ice-lite\n    name: 'icelite',\n    reg: /^(ice-lite)/\n  }, {\n    // a=ice-ufrag:F7gI\n    name: 'iceUfrag',\n    reg: /^ice-ufrag:(\\S*)/,\n    format: 'ice-ufrag:%s'\n  }, {\n    // a=ice-pwd:x9cml/YzichV2+XlhiMu8g\n    name: 'icePwd',\n    reg: /^ice-pwd:(\\S*)/,\n    format: 'ice-pwd:%s'\n  }, {\n    // a=fingerprint:SHA-1 00:11:22:33:44:55:66:77:88:99:AA:BB:CC:DD:EE:FF:00:11:22:33\n    name: 'fingerprint',\n    reg: /^fingerprint:(\\S*) (\\S*)/,\n    names: ['type', 'hash'],\n    format: 'fingerprint:%s %s'\n  }, {\n    // a=candidate:0 1 UDP 2113667327 203.0.113.1 54400 typ host\n    // a=candidate:1162875081 1 udp 2113937151 192.168.34.75 60017 typ host generation 0 network-id 3 network-cost 10\n    // a=candidate:3289912957 2 udp 1845501695 193.84.77.194 60017 typ srflx raddr 192.168.34.75 rport 60017 generation 0 network-id 3 network-cost 10\n    // a=candidate:229815620 1 tcp 1518280447 192.168.150.19 60017 typ host tcptype active generation 0 network-id 3 network-cost 10\n    // a=candidate:3289912957 2 tcp 1845501695 193.84.77.194 60017 typ srflx raddr 192.168.34.75 rport 60017 tcptype passive generation 0 network-id 3 network-cost 10\n    push: 'candidates',\n    reg: /^candidate:(\\S*) (\\d*) (\\S*) (\\d*) (\\S*) (\\d*) typ (\\S*)(?: raddr (\\S*) rport (\\d*))?(?: tcptype (\\S*))?(?: generation (\\d*))?(?: network-id (\\d*))?(?: network-cost (\\d*))?/,\n    names: ['foundation', 'component', 'transport', 'priority', 'ip', 'port', 'type', 'raddr', 'rport', 'tcptype', 'generation', 'network-id', 'network-cost'],\n    format: function (o) {\n      var str = 'candidate:%s %d %s %d %s %d typ %s';\n      str += o.raddr != null ? ' raddr %s rport %d' : '%v%v'; // NB: candidate has three optional chunks, so %void middles one if it's missing\n\n      str += o.tcptype != null ? ' tcptype %s' : '%v';\n\n      if (o.generation != null) {\n        str += ' generation %d';\n      }\n\n      str += o['network-id'] != null ? ' network-id %d' : '%v';\n      str += o['network-cost'] != null ? ' network-cost %d' : '%v';\n      return str;\n    }\n  }, {\n    // a=end-of-candidates (keep after the candidates line for readability)\n    name: 'endOfCandidates',\n    reg: /^(end-of-candidates)/\n  }, {\n    // a=remote-candidates:1 203.0.113.1 54400 2 203.0.113.1 54401 ...\n    name: 'remoteCandidates',\n    reg: /^remote-candidates:(.*)/,\n    format: 'remote-candidates:%s'\n  }, {\n    // a=ice-options:google-ice\n    name: 'iceOptions',\n    reg: /^ice-options:(\\S*)/,\n    format: 'ice-options:%s'\n  }, {\n    // a=ssrc:2566107569 cname:t9YU8M1UxTF8Y1A1\n    push: 'ssrcs',\n    reg: /^ssrc:(\\d*) ([\\w_-]*)(?::(.*))?/,\n    names: ['id', 'attribute', 'value'],\n    format: function (o) {\n      var str = 'ssrc:%d';\n\n      if (o.attribute != null) {\n        str += ' %s';\n\n        if (o.value != null) {\n          str += ':%s';\n        }\n      }\n\n      return str;\n    }\n  }, {\n    // a=ssrc-group:FEC 1 2\n    // a=ssrc-group:FEC-FR 3004364195 1080772241\n    push: 'ssrcGroups',\n    // token-char = %x21 / %x23-27 / %x2A-2B / %x2D-2E / %x30-39 / %x41-5A / %x5E-7E\n    reg: /^ssrc-group:([\\x21\\x23\\x24\\x25\\x26\\x27\\x2A\\x2B\\x2D\\x2E\\w]*) (.*)/,\n    names: ['semantics', 'ssrcs'],\n    format: 'ssrc-group:%s %s'\n  }, {\n    // a=msid-semantic: WMS Jvlam5X3SX1OP6pn20zWogvaKJz5Hjf9OnlV\n    name: 'msidSemantic',\n    reg: /^msid-semantic:\\s?(\\w*) (\\S*)/,\n    names: ['semantic', 'token'],\n    format: 'msid-semantic: %s %s' // space after ':' is not accidental\n\n  }, {\n    // a=group:BUNDLE audio video\n    push: 'groups',\n    reg: /^group:(\\w*) (.*)/,\n    names: ['type', 'mids'],\n    format: 'group:%s %s'\n  }, {\n    // a=rtcp-mux\n    name: 'rtcpMux',\n    reg: /^(rtcp-mux)/\n  }, {\n    // a=rtcp-rsize\n    name: 'rtcpRsize',\n    reg: /^(rtcp-rsize)/\n  }, {\n    // a=sctpmap:5000 webrtc-datachannel 1024\n    name: 'sctpmap',\n    reg: /^sctpmap:([\\w_/]*) (\\S*)(?: (\\S*))?/,\n    names: ['sctpmapNumber', 'app', 'maxMessageSize'],\n    format: function (o) {\n      return o.maxMessageSize != null ? 'sctpmap:%s %s %s' : 'sctpmap:%s %s';\n    }\n  }, {\n    // a=x-google-flag:conference\n    name: 'xGoogleFlag',\n    reg: /^x-google-flag:([^\\s]*)/,\n    format: 'x-google-flag:%s'\n  }, {\n    // a=rid:1 send max-width=1280;max-height=720;max-fps=30;depend=0\n    push: 'rids',\n    reg: /^rid:([\\d\\w]+) (\\w+)(?: ([\\S| ]*))?/,\n    names: ['id', 'direction', 'params'],\n    format: function (o) {\n      return o.params ? 'rid:%s %s %s' : 'rid:%s %s';\n    }\n  }, {\n    // a=imageattr:97 send [x=800,y=640,sar=1.1,q=0.6] [x=480,y=320] recv [x=330,y=250]\n    // a=imageattr:* send [x=800,y=640] recv *\n    // a=imageattr:100 recv [x=320,y=240]\n    push: 'imageattrs',\n    reg: new RegExp( // a=imageattr:97\n    '^imageattr:(\\\\d+|\\\\*)' + // send [x=800,y=640,sar=1.1,q=0.6] [x=480,y=320]\n    '[\\\\s\\\\t]+(send|recv)[\\\\s\\\\t]+(\\\\*|\\\\[\\\\S+\\\\](?:[\\\\s\\\\t]+\\\\[\\\\S+\\\\])*)' + // recv [x=330,y=250]\n    '(?:[\\\\s\\\\t]+(recv|send)[\\\\s\\\\t]+(\\\\*|\\\\[\\\\S+\\\\](?:[\\\\s\\\\t]+\\\\[\\\\S+\\\\])*))?'),\n    names: ['pt', 'dir1', 'attrs1', 'dir2', 'attrs2'],\n    format: function (o) {\n      return 'imageattr:%s %s %s' + (o.dir2 ? ' %s %s' : '');\n    }\n  }, {\n    // a=simulcast:send 1,2,3;~4,~5 recv 6;~7,~8\n    // a=simulcast:recv 1;4,5 send 6;7\n    name: 'simulcast',\n    reg: new RegExp( // a=simulcast:\n    '^simulcast:' + // send 1,2,3;~4,~5\n    '(send|recv) ([a-zA-Z0-9\\\\-_~;,]+)' + // space + recv 6;~7,~8\n    '(?:\\\\s?(send|recv) ([a-zA-Z0-9\\\\-_~;,]+))?' + // end\n    '$'),\n    names: ['dir1', 'list1', 'dir2', 'list2'],\n    format: function (o) {\n      return 'simulcast:%s %s' + (o.dir2 ? ' %s %s' : '');\n    }\n  }, {\n    // old simulcast draft 03 (implemented by Firefox)\n    //   https://tools.ietf.org/html/draft-ietf-mmusic-sdp-simulcast-03\n    // a=simulcast: recv pt=97;98 send pt=97\n    // a=simulcast: send rid=5;6;7 paused=6,7\n    name: 'simulcast_03',\n    reg: /^simulcast:[\\s\\t]+([\\S+\\s\\t]+)$/,\n    names: ['value'],\n    format: 'simulcast: %s'\n  }, {\n    // a=framerate:25\n    // a=framerate:29.97\n    name: 'framerate',\n    reg: /^framerate:(\\d+(?:$|\\.\\d+))/,\n    format: 'framerate:%s'\n  }, {\n    // RFC4570\n    // a=source-filter: incl IN IP4 239.5.2.31 10.1.15.5\n    name: 'sourceFilter',\n    reg: /^source-filter: *(excl|incl) (\\S*) (IP4|IP6|\\*) (\\S*) (.*)/,\n    names: ['filterMode', 'netType', 'addressTypes', 'destAddress', 'srcList'],\n    format: 'source-filter: %s %s %s %s %s'\n  }, {\n    // a=bundle-only\n    name: 'bundleOnly',\n    reg: /^(bundle-only)/\n  }, {\n    // a=label:1\n    name: 'label',\n    reg: /^label:(.+)/,\n    format: 'label:%s'\n  }, {\n    // RFC version 26 for SCTP over DTLS\n    // https://tools.ietf.org/html/draft-ietf-mmusic-sctp-sdp-26#section-5\n    name: 'sctpPort',\n    reg: /^sctp-port:(\\d+)$/,\n    format: 'sctp-port:%s'\n  }, {\n    // RFC version 26 for SCTP over DTLS\n    // https://tools.ietf.org/html/draft-ietf-mmusic-sctp-sdp-26#section-6\n    name: 'maxMessageSize',\n    reg: /^max-message-size:(\\d+)$/,\n    format: 'max-message-size:%s'\n  }, {\n    // RFC7273\n    // a=ts-refclk:ptp=IEEE1588-2008:39-A7-94-FF-FE-07-CB-D0:37\n    push: 'tsRefClocks',\n    reg: /^ts-refclk:([^\\s=]*)(?:=(\\S*))?/,\n    names: ['clksrc', 'clksrcExt'],\n    format: function (o) {\n      return 'ts-refclk:%s' + (o.clksrcExt != null ? '=%s' : '');\n    }\n  }, {\n    // RFC7273\n    // a=mediaclk:direct=963214424\n    name: 'mediaClk',\n    reg: /^mediaclk:(?:id=(\\S*))? *([^\\s=]*)(?:=(\\S*))?(?: *rate=(\\d+)\\/(\\d+))?/,\n    names: ['id', 'mediaClockName', 'mediaClockValue', 'rateNumerator', 'rateDenominator'],\n    format: function (o) {\n      var str = 'mediaclk:';\n      str += o.id != null ? 'id=%s %s' : '%v%s';\n      str += o.mediaClockValue != null ? '=%s' : '';\n      str += o.rateNumerator != null ? ' rate=%s' : '';\n      str += o.rateDenominator != null ? '/%s' : '';\n      return str;\n    }\n  }, {\n    // a=keywds:keywords\n    name: 'keywords',\n    reg: /^keywds:(.+)$/,\n    format: 'keywds:%s'\n  }, {\n    // a=content:main\n    name: 'content',\n    reg: /^content:(.+)/,\n    format: 'content:%s'\n  }, // BFCP https://tools.ietf.org/html/rfc4583\n  {\n    // a=floorctrl:c-s\n    name: 'bfcpFloorCtrl',\n    reg: /^floorctrl:(c-only|s-only|c-s)/,\n    format: 'floorctrl:%s'\n  }, {\n    // a=confid:1\n    name: 'bfcpConfId',\n    reg: /^confid:(\\d+)/,\n    format: 'confid:%s'\n  }, {\n    // a=userid:1\n    name: 'bfcpUserId',\n    reg: /^userid:(\\d+)/,\n    format: 'userid:%s'\n  }, {\n    // a=floorid:1\n    name: 'bfcpFloorId',\n    reg: /^floorid:(.+) (?:m-stream|mstrm):(.+)/,\n    names: ['id', 'mStream'],\n    format: 'floorid:%s mstrm:%s'\n  }, {\n    // any a= that we don't understand is kept verbatim on media.invalid\n    push: 'invalid',\n    names: ['value']\n  }]\n}; // set sensible defaults to avoid polluting the grammar with boring details\n\nObject.keys(grammar).forEach(function (key) {\n  var objs = grammar[key];\n  objs.forEach(function (obj) {\n    if (!obj.reg) {\n      obj.reg = /(.*)/;\n    }\n\n    if (!obj.format) {\n      obj.format = '%s';\n    }\n  });\n});","map":{"version":3,"sources":["/Users/tuphan/Desktop/gcallstest/node_modules/sdp-transform/lib/grammar.js"],"names":["grammar","module","exports","v","name","reg","o","names","format","s","i","u","e","p","z","r","t","c","b","push","m","a","encoding","rate","address","subtype","direction","config","sessionConfig","str","raddr","tcptype","generation","attribute","value","maxMessageSize","params","RegExp","dir2","clksrcExt","id","mediaClockValue","rateNumerator","rateDenominator","Object","keys","forEach","key","objs","obj"],"mappings":"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","sourcesContent":["var grammar = module.exports = {\n  v: [{\n    name: 'version',\n    reg: /^(\\d*)$/\n  }],\n  o: [{\n    // o=- 20518 0 IN IP4 203.0.113.1\n    // NB: sessionId will be a String in most cases because it is huge\n    name: 'origin',\n    reg: /^(\\S*) (\\d*) (\\d*) (\\S*) IP(\\d) (\\S*)/,\n    names: ['username', 'sessionId', 'sessionVersion', 'netType', 'ipVer', 'address'],\n    format: '%s %s %d %s IP%d %s'\n  }],\n  // default parsing of these only (though some of these feel outdated)\n  s: [{ name: 'name' }],\n  i: [{ name: 'description' }],\n  u: [{ name: 'uri' }],\n  e: [{ name: 'email' }],\n  p: [{ name: 'phone' }],\n  z: [{ name: 'timezones' }], // TODO: this one can actually be parsed properly...\n  r: [{ name: 'repeats' }],   // TODO: this one can also be parsed properly\n  // k: [{}], // outdated thing ignored\n  t: [{\n    // t=0 0\n    name: 'timing',\n    reg: /^(\\d*) (\\d*)/,\n    names: ['start', 'stop'],\n    format: '%d %d'\n  }],\n  c: [{\n    // c=IN IP4 10.47.197.26\n    name: 'connection',\n    reg: /^IN IP(\\d) (\\S*)/,\n    names: ['version', 'ip'],\n    format: 'IN IP%d %s'\n  }],\n  b: [{\n    // b=AS:4000\n    push: 'bandwidth',\n    reg: /^(TIAS|AS|CT|RR|RS):(\\d*)/,\n    names: ['type', 'limit'],\n    format: '%s:%s'\n  }],\n  m: [{\n    // m=video 51744 RTP/AVP 126 97 98 34 31\n    // NB: special - pushes to session\n    // TODO: rtp/fmtp should be filtered by the payloads found here?\n    reg: /^(\\w*) (\\d*) ([\\w/]*)(?: (.*))?/,\n    names: ['type', 'port', 'protocol', 'payloads'],\n    format: '%s %d %s %s'\n  }],\n  a: [\n    {\n      // a=rtpmap:110 opus/48000/2\n      push: 'rtp',\n      reg: /^rtpmap:(\\d*) ([\\w\\-.]*)(?:\\s*\\/(\\d*)(?:\\s*\\/(\\S*))?)?/,\n      names: ['payload', 'codec', 'rate', 'encoding'],\n      format: function (o) {\n        return (o.encoding)\n          ? 'rtpmap:%d %s/%s/%s'\n          : o.rate\n            ? 'rtpmap:%d %s/%s'\n            : 'rtpmap:%d %s';\n      }\n    },\n    {\n      // a=fmtp:108 profile-level-id=24;object=23;bitrate=64000\n      // a=fmtp:111 minptime=10; useinbandfec=1\n      push: 'fmtp',\n      reg: /^fmtp:(\\d*) ([\\S| ]*)/,\n      names: ['payload', 'config'],\n      format: 'fmtp:%d %s'\n    },\n    {\n      // a=control:streamid=0\n      name: 'control',\n      reg: /^control:(.*)/,\n      format: 'control:%s'\n    },\n    {\n      // a=rtcp:65179 IN IP4 193.84.77.194\n      name: 'rtcp',\n      reg: /^rtcp:(\\d*)(?: (\\S*) IP(\\d) (\\S*))?/,\n      names: ['port', 'netType', 'ipVer', 'address'],\n      format: function (o) {\n        return (o.address != null)\n          ? 'rtcp:%d %s IP%d %s'\n          : 'rtcp:%d';\n      }\n    },\n    {\n      // a=rtcp-fb:98 trr-int 100\n      push: 'rtcpFbTrrInt',\n      reg: /^rtcp-fb:(\\*|\\d*) trr-int (\\d*)/,\n      names: ['payload', 'value'],\n      format: 'rtcp-fb:%s trr-int %d'\n    },\n    {\n      // a=rtcp-fb:98 nack rpsi\n      push: 'rtcpFb',\n      reg: /^rtcp-fb:(\\*|\\d*) ([\\w-_]*)(?: ([\\w-_]*))?/,\n      names: ['payload', 'type', 'subtype'],\n      format: function (o) {\n        return (o.subtype != null)\n          ? 'rtcp-fb:%s %s %s'\n          : 'rtcp-fb:%s %s';\n      }\n    },\n    {\n      // a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n      // a=extmap:1/recvonly URI-gps-string\n      // a=extmap:3 urn:ietf:params:rtp-hdrext:encrypt urn:ietf:params:rtp-hdrext:smpte-tc 25@600/24\n      push: 'ext',\n      reg: /^extmap:(\\d+)(?:\\/(\\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\\S*)(?: (\\S*))?/,\n      names: ['value', 'direction', 'encrypt-uri', 'uri', 'config'],\n      format: function (o) {\n        return (\n          'extmap:%d' +\n          (o.direction ? '/%s' : '%v') +\n          (o['encrypt-uri'] ? ' %s' : '%v') +\n          ' %s' +\n          (o.config ? ' %s' : '')\n        );\n      }\n    },\n    {\n      // a=extmap-allow-mixed\n      name: 'extmapAllowMixed',\n      reg: /^(extmap-allow-mixed)/\n    },\n    {\n      // a=crypto:1 AES_CM_128_HMAC_SHA1_80 inline:PS1uQCVeeCFCanVmcjkpPywjNWhcYD0mXXtxaVBR|2^20|1:32\n      push: 'crypto',\n      reg: /^crypto:(\\d*) ([\\w_]*) (\\S*)(?: (\\S*))?/,\n      names: ['id', 'suite', 'config', 'sessionConfig'],\n      format: function (o) {\n        return (o.sessionConfig != null)\n          ? 'crypto:%d %s %s %s'\n          : 'crypto:%d %s %s';\n      }\n    },\n    {\n      // a=setup:actpass\n      name: 'setup',\n      reg: /^setup:(\\w*)/,\n      format: 'setup:%s'\n    },\n    {\n      // a=connection:new\n      name: 'connectionType',\n      reg: /^connection:(new|existing)/,\n      format: 'connection:%s'\n    },\n    {\n      // a=mid:1\n      name: 'mid',\n      reg: /^mid:([^\\s]*)/,\n      format: 'mid:%s'\n    },\n    {\n      // a=msid:0c8b064d-d807-43b4-b434-f92a889d8587 98178685-d409-46e0-8e16-7ef0db0db64a\n      name: 'msid',\n      reg: /^msid:(.*)/,\n      format: 'msid:%s'\n    },\n    {\n      // a=ptime:20\n      name: 'ptime',\n      reg: /^ptime:(\\d*(?:\\.\\d*)*)/,\n      format: 'ptime:%d'\n    },\n    {\n      // a=maxptime:60\n      name: 'maxptime',\n      reg: /^maxptime:(\\d*(?:\\.\\d*)*)/,\n      format: 'maxptime:%d'\n    },\n    {\n      // a=sendrecv\n      name: 'direction',\n      reg: /^(sendrecv|recvonly|sendonly|inactive)/\n    },\n    {\n      // a=ice-lite\n      name: 'icelite',\n      reg: /^(ice-lite)/\n    },\n    {\n      // a=ice-ufrag:F7gI\n      name: 'iceUfrag',\n      reg: /^ice-ufrag:(\\S*)/,\n      format: 'ice-ufrag:%s'\n    },\n    {\n      // a=ice-pwd:x9cml/YzichV2+XlhiMu8g\n      name: 'icePwd',\n      reg: /^ice-pwd:(\\S*)/,\n      format: 'ice-pwd:%s'\n    },\n    {\n      // a=fingerprint:SHA-1 00:11:22:33:44:55:66:77:88:99:AA:BB:CC:DD:EE:FF:00:11:22:33\n      name: 'fingerprint',\n      reg: /^fingerprint:(\\S*) (\\S*)/,\n      names: ['type', 'hash'],\n      format: 'fingerprint:%s %s'\n    },\n    {\n      // a=candidate:0 1 UDP 2113667327 203.0.113.1 54400 typ host\n      // a=candidate:1162875081 1 udp 2113937151 192.168.34.75 60017 typ host generation 0 network-id 3 network-cost 10\n      // a=candidate:3289912957 2 udp 1845501695 193.84.77.194 60017 typ srflx raddr 192.168.34.75 rport 60017 generation 0 network-id 3 network-cost 10\n      // a=candidate:229815620 1 tcp 1518280447 192.168.150.19 60017 typ host tcptype active generation 0 network-id 3 network-cost 10\n      // a=candidate:3289912957 2 tcp 1845501695 193.84.77.194 60017 typ srflx raddr 192.168.34.75 rport 60017 tcptype passive generation 0 network-id 3 network-cost 10\n      push:'candidates',\n      reg: /^candidate:(\\S*) (\\d*) (\\S*) (\\d*) (\\S*) (\\d*) typ (\\S*)(?: raddr (\\S*) rport (\\d*))?(?: tcptype (\\S*))?(?: generation (\\d*))?(?: network-id (\\d*))?(?: network-cost (\\d*))?/,\n      names: ['foundation', 'component', 'transport', 'priority', 'ip', 'port', 'type', 'raddr', 'rport', 'tcptype', 'generation', 'network-id', 'network-cost'],\n      format: function (o) {\n        var str = 'candidate:%s %d %s %d %s %d typ %s';\n\n        str += (o.raddr != null) ? ' raddr %s rport %d' : '%v%v';\n\n        // NB: candidate has three optional chunks, so %void middles one if it's missing\n        str += (o.tcptype != null) ? ' tcptype %s' : '%v';\n\n        if (o.generation != null) {\n          str += ' generation %d';\n        }\n\n        str += (o['network-id'] != null) ? ' network-id %d' : '%v';\n        str += (o['network-cost'] != null) ? ' network-cost %d' : '%v';\n        return str;\n      }\n    },\n    {\n      // a=end-of-candidates (keep after the candidates line for readability)\n      name: 'endOfCandidates',\n      reg: /^(end-of-candidates)/\n    },\n    {\n      // a=remote-candidates:1 203.0.113.1 54400 2 203.0.113.1 54401 ...\n      name: 'remoteCandidates',\n      reg: /^remote-candidates:(.*)/,\n      format: 'remote-candidates:%s'\n    },\n    {\n      // a=ice-options:google-ice\n      name: 'iceOptions',\n      reg: /^ice-options:(\\S*)/,\n      format: 'ice-options:%s'\n    },\n    {\n      // a=ssrc:2566107569 cname:t9YU8M1UxTF8Y1A1\n      push: 'ssrcs',\n      reg: /^ssrc:(\\d*) ([\\w_-]*)(?::(.*))?/,\n      names: ['id', 'attribute', 'value'],\n      format: function (o) {\n        var str = 'ssrc:%d';\n        if (o.attribute != null) {\n          str += ' %s';\n          if (o.value != null) {\n            str += ':%s';\n          }\n        }\n        return str;\n      }\n    },\n    {\n      // a=ssrc-group:FEC 1 2\n      // a=ssrc-group:FEC-FR 3004364195 1080772241\n      push: 'ssrcGroups',\n      // token-char = %x21 / %x23-27 / %x2A-2B / %x2D-2E / %x30-39 / %x41-5A / %x5E-7E\n      reg: /^ssrc-group:([\\x21\\x23\\x24\\x25\\x26\\x27\\x2A\\x2B\\x2D\\x2E\\w]*) (.*)/,\n      names: ['semantics', 'ssrcs'],\n      format: 'ssrc-group:%s %s'\n    },\n    {\n      // a=msid-semantic: WMS Jvlam5X3SX1OP6pn20zWogvaKJz5Hjf9OnlV\n      name: 'msidSemantic',\n      reg: /^msid-semantic:\\s?(\\w*) (\\S*)/,\n      names: ['semantic', 'token'],\n      format: 'msid-semantic: %s %s' // space after ':' is not accidental\n    },\n    {\n      // a=group:BUNDLE audio video\n      push: 'groups',\n      reg: /^group:(\\w*) (.*)/,\n      names: ['type', 'mids'],\n      format: 'group:%s %s'\n    },\n    {\n      // a=rtcp-mux\n      name: 'rtcpMux',\n      reg: /^(rtcp-mux)/\n    },\n    {\n      // a=rtcp-rsize\n      name: 'rtcpRsize',\n      reg: /^(rtcp-rsize)/\n    },\n    {\n      // a=sctpmap:5000 webrtc-datachannel 1024\n      name: 'sctpmap',\n      reg: /^sctpmap:([\\w_/]*) (\\S*)(?: (\\S*))?/,\n      names: ['sctpmapNumber', 'app', 'maxMessageSize'],\n      format: function (o) {\n        return (o.maxMessageSize != null)\n          ? 'sctpmap:%s %s %s'\n          : 'sctpmap:%s %s';\n      }\n    },\n    {\n      // a=x-google-flag:conference\n      name: 'xGoogleFlag',\n      reg: /^x-google-flag:([^\\s]*)/,\n      format: 'x-google-flag:%s'\n    },\n    {\n      // a=rid:1 send max-width=1280;max-height=720;max-fps=30;depend=0\n      push: 'rids',\n      reg: /^rid:([\\d\\w]+) (\\w+)(?: ([\\S| ]*))?/,\n      names: ['id', 'direction', 'params'],\n      format: function (o) {\n        return (o.params) ? 'rid:%s %s %s' : 'rid:%s %s';\n      }\n    },\n    {\n      // a=imageattr:97 send [x=800,y=640,sar=1.1,q=0.6] [x=480,y=320] recv [x=330,y=250]\n      // a=imageattr:* send [x=800,y=640] recv *\n      // a=imageattr:100 recv [x=320,y=240]\n      push: 'imageattrs',\n      reg: new RegExp(\n        // a=imageattr:97\n        '^imageattr:(\\\\d+|\\\\*)' +\n        // send [x=800,y=640,sar=1.1,q=0.6] [x=480,y=320]\n        '[\\\\s\\\\t]+(send|recv)[\\\\s\\\\t]+(\\\\*|\\\\[\\\\S+\\\\](?:[\\\\s\\\\t]+\\\\[\\\\S+\\\\])*)' +\n        // recv [x=330,y=250]\n        '(?:[\\\\s\\\\t]+(recv|send)[\\\\s\\\\t]+(\\\\*|\\\\[\\\\S+\\\\](?:[\\\\s\\\\t]+\\\\[\\\\S+\\\\])*))?'\n      ),\n      names: ['pt', 'dir1', 'attrs1', 'dir2', 'attrs2'],\n      format: function (o) {\n        return 'imageattr:%s %s %s' + (o.dir2 ? ' %s %s' : '');\n      }\n    },\n    {\n      // a=simulcast:send 1,2,3;~4,~5 recv 6;~7,~8\n      // a=simulcast:recv 1;4,5 send 6;7\n      name: 'simulcast',\n      reg: new RegExp(\n        // a=simulcast:\n        '^simulcast:' +\n        // send 1,2,3;~4,~5\n        '(send|recv) ([a-zA-Z0-9\\\\-_~;,]+)' +\n        // space + recv 6;~7,~8\n        '(?:\\\\s?(send|recv) ([a-zA-Z0-9\\\\-_~;,]+))?' +\n        // end\n        '$'\n      ),\n      names: ['dir1', 'list1', 'dir2', 'list2'],\n      format: function (o) {\n        return 'simulcast:%s %s' + (o.dir2 ? ' %s %s' : '');\n      }\n    },\n    {\n      // old simulcast draft 03 (implemented by Firefox)\n      //   https://tools.ietf.org/html/draft-ietf-mmusic-sdp-simulcast-03\n      // a=simulcast: recv pt=97;98 send pt=97\n      // a=simulcast: send rid=5;6;7 paused=6,7\n      name: 'simulcast_03',\n      reg: /^simulcast:[\\s\\t]+([\\S+\\s\\t]+)$/,\n      names: ['value'],\n      format: 'simulcast: %s'\n    },\n    {\n      // a=framerate:25\n      // a=framerate:29.97\n      name: 'framerate',\n      reg: /^framerate:(\\d+(?:$|\\.\\d+))/,\n      format: 'framerate:%s'\n    },\n    {\n      // RFC4570\n      // a=source-filter: incl IN IP4 239.5.2.31 10.1.15.5\n      name: 'sourceFilter',\n      reg: /^source-filter: *(excl|incl) (\\S*) (IP4|IP6|\\*) (\\S*) (.*)/,\n      names: ['filterMode', 'netType', 'addressTypes', 'destAddress', 'srcList'],\n      format: 'source-filter: %s %s %s %s %s'\n    },\n    {\n      // a=bundle-only\n      name: 'bundleOnly',\n      reg: /^(bundle-only)/\n    },\n    {\n      // a=label:1\n      name: 'label',\n      reg: /^label:(.+)/,\n      format: 'label:%s'\n    },\n    {\n      // RFC version 26 for SCTP over DTLS\n      // https://tools.ietf.org/html/draft-ietf-mmusic-sctp-sdp-26#section-5\n      name: 'sctpPort',\n      reg: /^sctp-port:(\\d+)$/,\n      format: 'sctp-port:%s'\n    },\n    {\n      // RFC version 26 for SCTP over DTLS\n      // https://tools.ietf.org/html/draft-ietf-mmusic-sctp-sdp-26#section-6\n      name: 'maxMessageSize',\n      reg: /^max-message-size:(\\d+)$/,\n      format: 'max-message-size:%s'\n    },\n    {\n      // RFC7273\n      // a=ts-refclk:ptp=IEEE1588-2008:39-A7-94-FF-FE-07-CB-D0:37\n      push:'tsRefClocks',\n      reg: /^ts-refclk:([^\\s=]*)(?:=(\\S*))?/,\n      names: ['clksrc', 'clksrcExt'],\n      format: function (o) {\n        return 'ts-refclk:%s' + (o.clksrcExt != null ? '=%s' : '');\n      }\n    },\n    {\n      // RFC7273\n      // a=mediaclk:direct=963214424\n      name:'mediaClk',\n      reg: /^mediaclk:(?:id=(\\S*))? *([^\\s=]*)(?:=(\\S*))?(?: *rate=(\\d+)\\/(\\d+))?/,\n      names: ['id', 'mediaClockName', 'mediaClockValue', 'rateNumerator', 'rateDenominator'],\n      format: function (o) {\n        var str = 'mediaclk:';\n        str += (o.id != null ? 'id=%s %s' : '%v%s');\n        str += (o.mediaClockValue != null ? '=%s' : '');\n        str += (o.rateNumerator != null ? ' rate=%s' : '');\n        str += (o.rateDenominator != null ? '/%s' : '');\n        return str;\n      }\n    },\n    {\n      // a=keywds:keywords\n      name: 'keywords',\n      reg: /^keywds:(.+)$/,\n      format: 'keywds:%s'\n    },\n    {\n      // a=content:main\n      name: 'content',\n      reg: /^content:(.+)/,\n      format: 'content:%s'\n    },\n    // BFCP https://tools.ietf.org/html/rfc4583\n    {\n      // a=floorctrl:c-s\n      name: 'bfcpFloorCtrl',\n      reg: /^floorctrl:(c-only|s-only|c-s)/,\n      format: 'floorctrl:%s'\n    },\n    {\n      // a=confid:1\n      name: 'bfcpConfId',\n      reg: /^confid:(\\d+)/,\n      format: 'confid:%s'\n    },\n    {\n      // a=userid:1\n      name: 'bfcpUserId',\n      reg: /^userid:(\\d+)/,\n      format: 'userid:%s'\n    },\n    {\n      // a=floorid:1\n      name: 'bfcpFloorId',\n      reg: /^floorid:(.+) (?:m-stream|mstrm):(.+)/,\n      names: ['id', 'mStream'],\n      format: 'floorid:%s mstrm:%s'\n    },\n    {\n      // any a= that we don't understand is kept verbatim on media.invalid\n      push: 'invalid',\n      names: ['value']\n    }\n  ]\n};\n\n// set sensible defaults to avoid polluting the grammar with boring details\nObject.keys(grammar).forEach(function (key) {\n  var objs = grammar[key];\n  objs.forEach(function (obj) {\n    if (!obj.reg) {\n      obj.reg = /(.*)/;\n    }\n    if (!obj.format) {\n      obj.format = '%s';\n    }\n  });\n});\n"]},"metadata":{},"sourceType":"script"}